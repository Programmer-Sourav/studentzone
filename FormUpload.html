<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Upload</title>
</head>
<body>
    <form id="formupload" enctype="multipart/form-data">
      <label>Upload a File</label>
      <input type="file" id="fileupload"/>
      <label>Upload A Name For the File</label>
      <input type="text" id="filename"/>
      <input type="submit" value="Submit"/>
    </form>
    <script>
        document.getElementById("formupload").addEventListener("submit", async function(event){
                   event.preventDefault();
                   const fileUploaded = document.getElementById("fileupload").files[0]
                   const fileName = document.getElementById("filename").value;

                   var formData = new FormData();
                   formData.append("filename", fileName);
                   formData.append("file", fileUploaded);

                   let response= "";
                   try{
                      response = await fetch("/upload", {method: "post", 
                        body: formData
                      })
                   }
                   catch(error){
                    console.error("Error ", error)
                   }
                    console.log('Upload status:', response.status);
                   
        })
    </script>
</body>
</html>